<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Проверка модулей</title>
</head>
<body>
    <h1>Проверка модульной структуры</h1>
    <div id="status">Загрузка...</div>
    
    <script type="module">
        console.log('=== Начало проверки модулей ===');
        
        try {
            // Проверка констант
            console.log('1. Проверка constants.js...');
            const constants = await import('./js/constants.js');
            console.log('✓ constants.js загружен', constants);
            
            // Проверка конфигурации
            console.log('2. Проверка config.js...');
            const config = await import('./js/config.js');
            console.log('✓ config.js загружен', config);
            
            // Проверка состояния
            console.log('3. Проверка app/state.js...');
            const state = await import('./js/app/state.js');
            console.log('✓ app/state.js загружен', state);
            
            // Проверка утилит
            console.log('4. Проверка utils/html.js...');
            const html = await import('./js/utils/html.js');
            console.log('✓ utils/html.js загружен', html);
            
            console.log('5. Проверка utils/helpers.js...');
            const helpers = await import('./js/utils/helpers.js');
            console.log('✓ utils/helpers.js загружен', helpers);
            
            // Проверка БД
            console.log('6. Проверка db/stores.js...');
            const stores = await import('./js/db/stores.js');
            console.log('✓ db/stores.js загружен', stores);
            
            console.log('7. Проверка db/indexeddb.js...');
            const indexeddb = await import('./js/db/indexeddb.js');
            console.log('✓ db/indexeddb.js загружен', indexeddb);
            
            console.log('8. Проверка db/favorites.js...');
            const favorites = await import('./js/db/favorites.js');
            console.log('✓ db/favorites.js загружен', favorites);
            
            // Проверка сервисов
            console.log('9. Проверка services/notification.js...');
            const notification = await import('./js/services/notification.js');
            console.log('✓ services/notification.js загружен', notification);
            
            console.log('10. Проверка services/export.js...');
            const exportService = await import('./js/services/export.js');
            console.log('✓ services/export.js загружен', exportService);
            
            // Проверка компонентов
            console.log('11. Проверка components/modals.js...');
            const modals = await import('./js/components/modals.js');
            console.log('✓ components/modals.js загружен', modals);
            
            console.log('12. Проверка components/tabs.js...');
            const tabs = await import('./js/components/tabs.js');
            console.log('✓ components/tabs.js загружен', tabs);
            
            console.log('13. Проверка components/algorithms.js...');
            const algorithms = await import('./js/components/algorithms.js');
            console.log('✓ components/algorithms.js загружен', algorithms);
            
            console.log('14. Проверка components/main-algorithm.js...');
            const mainAlgorithm = await import('./js/components/main-algorithm.js');
            console.log('✓ components/main-algorithm.js загружен', mainAlgorithm);
            
            console.log('15. Проверка components/bookmarks.js...');
            const bookmarks = await import('./js/components/bookmarks.js');
            console.log('✓ components/bookmarks.js загружен', bookmarks);
            
            console.log('16. Проверка components/ext-links.js...');
            const extLinks = await import('./js/components/ext-links.js');
            console.log('✓ components/ext-links.js загружен', extLinks);
            
            console.log('17. Проверка components/reglaments.js...');
            const reglaments = await import('./js/components/reglaments.js');
            console.log('✓ components/reglaments.js загружен', reglaments);
            
            console.log('18. Проверка components/sedo.js...');
            const sedo = await import('./js/components/sedo.js');
            console.log('✓ components/sedo.js загружен', sedo);
            
            console.log('19. Проверка components/client-data.js...');
            const clientData = await import('./js/components/client-data.js');
            console.log('✓ components/client-data.js загружен', clientData);
            
            console.log('20. Проверка components/theme.js...');
            const theme = await import('./js/components/theme.js');
            console.log('✓ components/theme.js загружен', theme);
            
            // Проверка главного файла
            console.log('21. Проверка app.js...');
            const app = await import('./js/app.js');
            console.log('✓ app.js загружен', app);
            
            // Проверка точки входа
            console.log('22. Проверка entry.js...');
            const entry = await import('./js/entry.js');
            console.log('✓ entry.js загружен', entry);
            
            console.log('=== ✓ ВСЕ МОДУЛИ УСПЕШНО ЗАГРУЖЕНЫ ===');
            document.getElementById('status').innerHTML = '<h2 style="color: green;">✓ Все модули успешно загружены!</h2><p>Проверьте консоль для деталей.</p>';
            
        } catch (error) {
            console.error('=== ✗ ОШИБКА ЗАГРУЗКИ МОДУЛЕЙ ===');
            console.error(error);
            document.getElementById('status').innerHTML = `<h2 style="color: red;">✗ Ошибка загрузки модулей</h2><pre>${error.message}\n${error.stack}</pre>`;
        }
    </script>
</body>
</html>
